(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"/t5D":function(e,a,t){e.exports={card:"antd-pro\\pages\\-dashboard\\style-card",heading:"antd-pro\\pages\\-dashboard\\style-heading",steps:"antd-pro\\pages\\-dashboard\\style-steps",errorIcon:"antd-pro\\pages\\-dashboard\\style-errorIcon",errorPopover:"antd-pro\\pages\\-dashboard\\style-errorPopover",errorListItem:"antd-pro\\pages\\-dashboard\\style-errorListItem",errorField:"antd-pro\\pages\\-dashboard\\style-errorField",editable:"antd-pro\\pages\\-dashboard\\style-editable",advancedForm:"antd-pro\\pages\\-dashboard\\style-advancedForm",optional:"antd-pro\\pages\\-dashboard\\style-optional"}},"Nj/k":function(e,a,t){"use strict";var n=t("284h"),r=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("+L6B");var d=r(t("2/Rp"));t("g9YV");var l=r(t("wCAj"));t("P2fV");var i=r(t("NJEC"));t("/zsF");var u=r(t("PArb"));t("5NDa");var o=r(t("5rEg")),s=r(t("MVZn")),c=r(t("lwsE")),f=r(t("W8MJ")),p=r(t("a1gu")),g=r(t("Nsbk")),h=r(t("7W2i")),v=n(t("q1tI")),k=r(t("Y+p1")),m=r(t("/t5D")),y=function(e){function a(e){var t;return(0,c.default)(this,a),t=(0,p.default)(this,(0,g.default)(a).call(this,e)),t.index=0,t.cacheOriginData={},t.toggleEditable=function(e,a){e.preventDefault();var n=t.state.data,r=n.map(function(e){return(0,s.default)({},e)}),d=t.getRowById(a,r);d&&(d.editable||(t.cacheOriginData[a]=(0,s.default)({},d)),d.editable=!d.editable,t.setState({data:r}))},t.newMember=function(){var e=t.state.data,a=e.map(function(e){return(0,s.default)({},e)});a.push({IdParking:"NEW_TEMP_ID_".concat(t.index),City:"",Name:"",Address:"",editable:!0,isNew:!0}),t.index+=1,t.setState({data:a})},t.saveRow=function(e,a){e.persist();var n=t.getRowById(a)||{},r={parking:n};if(n.isNew){var d=t.props.handlePostParking;d(r)}else{var l=t.props.handlePutParking;l(r)}},t.handleDelete=function(e){var a=t.props.handleDeleteParking;a(e)},t.state={data:e.value,value:e.value},t}return(0,h.default)(a,e),(0,f.default)(a,[{key:"getRowById",value:function(e,a){var t=this.state.data;return(a||t).filter(function(a){return a.IdParking===e})[0]}},{key:"discard",value:function(e){var a=this.state.data,t=this.props.onChange,n=a.filter(function(a){return a.IdParking!==e});this.setState({data:n}),t(n)}},{key:"handleKeyPress",value:function(e,a){"Enter"===e.key&&this.saveRow(e,a)}},{key:"handleFieldChange",value:function(e,a,t){var n=this.state.data,r=n.map(function(e){return(0,s.default)({},e)}),d=this.getRowById(t,r);d&&(d[a]=e.target.value,this.setState({data:r}))}},{key:"cancel",value:function(e,a){this.clickedCancel=!0,e.preventDefault();var t=this.state.data,n=t.map(function(e){return(0,s.default)({},e)}),r=this.getRowById(a,n);this.cacheOriginData[a]&&(Object.assign(r,this.cacheOriginData[a]),delete this.cacheOriginData[a]),r.editable=!1,this.setState({data:n}),this.clickedCancel=!1}},{key:"render",value:function(){var e=this,a=this.props.loading,t=[{title:"Nombre",dataIndex:"Name",key:"Name",render:function(a,t){return t.editable?v.default.createElement(o.default,{value:a,autoFocus:!0,onChange:function(a){return e.handleFieldChange(a,"Name",t.IdParking)},onKeyPress:function(a){return e.handleKeyPress(a,t.IdParking)},placeholder:"Nombre"}):a}},{title:"Ciudad",dataIndex:"City",key:"City",render:function(a,t){return t.editable?v.default.createElement(o.default,{value:a,onChange:function(a){return e.handleFieldChange(a,"City",t.IdParking)},onKeyPress:function(a){return e.handleKeyPress(a,t.IdParking)},placeholder:"Ciudad"}):a}},{title:"Direcci\xf3n",dataIndex:"Address",key:"Address",render:function(a,t){return t.editable?v.default.createElement(o.default,{value:a,onChange:function(a){return e.handleFieldChange(a,"Address",t.IdParking)},onKeyPress:function(a){return e.handleKeyPress(a,t.IdParking)},placeholder:"Direcci\xf3n"}):a}},{title:"Acciones",key:"action",render:function(t,n){return n.editable&&a?null:n.editable?n.isNew?v.default.createElement("span",null,v.default.createElement("a",{onClick:function(a){return e.saveRow(a,n.IdParking)}},"Confirmar"),v.default.createElement(u.default,{type:"vertical"}),v.default.createElement(i.default,{title:"Descartar nuevo parking",onConfirm:function(){return e.discard(n.IdParking)},okText:"confirmar",cancelText:"cancelar"},v.default.createElement("a",null,"Descartar"))):v.default.createElement("span",null,v.default.createElement("a",{onClick:function(a){return e.saveRow(a,n.IdParking)}},"Confirmar"),v.default.createElement(u.default,{type:"vertical"}),v.default.createElement("a",{onClick:function(a){return e.cancel(a,n.IdParking)}},"Descartar")):v.default.createElement("span",null,v.default.createElement("a",{onClick:function(a){return e.toggleEditable(a,n.IdParking)}},"Editar"),v.default.createElement(u.default,{type:"vertical"}),v.default.createElement(i.default,{title:"\xbfEsta seguro que desea eliminar este parking?",onConfirm:function(){return e.handleDelete(n.IdParking)},okText:"confirmar",cancelText:"cancelar"},v.default.createElement("a",null,"Eliminar")))}}],n=this.state.data;return v.default.createElement(v.Fragment,null,v.default.createElement(l.default,{rowKey:function(e){return e.IdParking},loading:a,columns:t,dataSource:n,pagination:!1,rowClassName:function(e){return e.editable?m.default.editable:""}}),v.default.createElement(d.default,{style:{width:"100%",marginTop:16,marginBottom:8},type:"dashed",onClick:this.newMember,icon:"plus"},"Agregar nuevo parking"))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return(0,k.default)(e.value,a.value)?null:{data:e.value,value:e.value}}}]),a}(v.PureComponent),P=y;a.default=P},ePc1:function(e,a,t){"use strict";var n=t("TqRt"),r=t("284h");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("IzEo");var d=n(t("bx4M")),l=n(t("lwsE")),i=n(t("W8MJ")),u=n(t("a1gu")),o=n(t("Nsbk")),s=n(t("7W2i"));t("y8nQ");var c,f,p,g=n(t("Vl3Y")),h=r(t("q1tI")),v=t("MuoO"),k=n(t("zHco")),m=n(t("Nj/k")),y=n(t("/t5D")),P=(c=(0,v.connect)(function(e){var a=e.parking,t=e.loading;return{parking:a,submitting:t.effects["form/submitAdvancedForm"]}}),f=g.default.create(),c(p=f(p=function(e){function a(){var e,t;(0,l.default)(this,a);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return t=(0,u.default)(this,(e=(0,o.default)(a)).call.apply(e,[this].concat(r))),t.handlePostParking=function(e){var a=t.props.dispatch;a({type:"parking/add",payload:e})},t.handlePutParking=function(e){var a=t.props.dispatch;a({type:"parking/update",payload:e})},t.handleDeleteParking=function(e){var a=t.props.dispatch;a({type:"parking/delete",payload:e})},t}return(0,s.default)(a,e),(0,i.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"parking/fetch"})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props.parking,t=a.parkings,n=a.loading;return h.default.createElement(k.default,{title:"Parking",content:"Manager de parkings",wrapperClassName:y.default.advancedForm},h.default.createElement(d.default,{title:"List ",bordered:!1},e("members",{initialValue:t})(h.default.createElement(m.default,{loading:n,handlePostParking:this.handlePostParking,handlePutParking:this.handlePutParking,handleDeleteParking:this.handleDeleteParking}))))}}]),a}(h.PureComponent))||p)||p),b=P;a.default=b}}]);